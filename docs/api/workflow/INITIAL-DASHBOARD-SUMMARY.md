# ­ЪЊІ Initial Dashboard Endpoint - Summary

## РюЁ рЃарЃљрЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА?

`GET /api/partner/initial-dashboard` рЃћрЃюрЃЊрЃърЃЮрЃўрЃюрЃбрЃў рЃљрЃарЃўрЃА рЃърЃўрЃарЃЋрЃћрЃџрЃў API call рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЎрЃћрЃЌрЃЊрЃћрЃА Login-рЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ.

---

## ­Ъј» рЃарЃљрЃА рЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃА?

### 1№ИЈРЃБ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃўрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ
```json
{
  "user": {
    "id": 1,
    "name": "рЃњрЃўрЃЮрЃарЃњрЃў рЃњрЃћрЃџрЃљрЃерЃЋрЃўрЃџрЃў",
    "email": "partner@example.com",
    "phone": "+995555123456",
    "roles": ["manager", "owner"],
    "permissions": ["view-organization", "view-reservations"]
  }
}
```

### 2№ИЈРЃБ рЃЮрЃарЃњрЃљрЃюрЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ
```json
{
  "organization": {
    "id": 1,
    "name": "My Restaurant Group",
    "email": "info@example.com",
    "phone": "+995555123456"
  }
}
```

### 3№ИЈРЃБ рЃДрЃЋрЃћрЃџрЃљ рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃАрЃўрЃљ (Dropdown-рЃўрЃАрЃЌрЃЋрЃўрЃА)
```json
{
  "restaurants": [
    {
      "id": 1,
      "name": "рЃЕрЃћрЃЏрЃў рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃў",
      "slug": "chemi-restorani",
      "address": "рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў, рЃарЃБрЃАрЃЌрЃљрЃЋрЃћрЃџрЃўрЃА 123",
      "logo": "https://...",
      "status": "active"
    },
    {
      "id": 2,
      "name": "рЃЏрЃћрЃЮрЃарЃћ рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃў",
      "slug": "meore-restorani",
      "address": "рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў, рЃЋрЃљрЃЎрЃћ",
      "logo": "https://...",
      "status": "active"
    }
  ]
}
```

### 4№ИЈРЃБ Default рЃљрЃарЃЕрЃћрЃБрЃџрЃў рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃў (ID-рЃўрЃЌ рЃърЃўрЃарЃЋрЃћрЃџрЃў)
```json
{
  "selected_restaurant": {
    "id": 1,
    "name": "рЃЕрЃћрЃЏрЃў рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃў",
    "slug": "chemi-restorani",
    "address": "рЃЌрЃЉрЃўрЃџрЃўрЃАрЃў, рЃарЃБрЃАрЃЌрЃљрЃЋрЃћрЃџрЃўрЃА 123",
    "logo": "https://...",
    "phone": "+995555999888",
    "email": "restaurant@example.com"
  }
}
```

### 5№ИЈРЃБ Dashboard рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ
```json
{
  "dashboard": {
    "today_stats": {
      "total_reservations": 25,  // рЃ»рЃљрЃЏрЃБрЃарЃў рЃ»рЃљрЃЋрЃерЃюрЃћрЃЉрЃў рЃЊрЃдрЃћрЃА
      "confirmed": 18,            // рЃЊрЃљрЃЊрЃљрЃАрЃбрЃБрЃарЃћрЃЉрЃБрЃџрЃў
      "pending": 5,               // рЃЏрЃЮрЃџрЃЮрЃЊрЃўрЃюрЃерЃў
      "completed": 2,             // рЃЊрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃБрЃџрЃў
      "cancelled": 0              // рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃБрЃџрЃў
    },
    "upcoming_reservations": 47,  // рЃЏрЃЮрЃЏрЃљрЃЋрЃљрЃџрЃў 7 рЃЊрЃдрЃћ
    "tables": {
      "total": 20,                // рЃ»рЃљрЃЏрЃБрЃарЃў рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃў
      "active": 18                // рЃљрЃЦрЃбрЃўрЃБрЃарЃў рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃў
    },
    "places": {
      "total": 3,                 // рЃ»рЃљрЃЏрЃБрЃарЃў places
      "active": 3                 // рЃљрЃЦрЃбрЃўрЃБрЃарЃў places
    },
    "recent_reservations": [      // рЃЉрЃЮрЃџрЃЮ 5 рЃ»рЃљрЃЋрЃерЃљрЃюрЃў
      {
        "id": 123,
        "name": "рЃњрЃўрЃЮрЃарЃњрЃў рЃњрЃћрЃџрЃљрЃерЃЋрЃўрЃџрЃў",
        "phone": "+995555111222",
        "guests_count": 4,
        "reservation_date": "2025-10-27",
        "time_from": "19:00:00",
        "time_to": "21:00:00",
        "status": "confirmed"
      }
    ]
  }
}
```

---

## ­ЪћЉ Key Features

### РюЁ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў Default рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃљрЃарЃЕрЃћрЃЋрЃљ
- Backend рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃљрЃарЃЕрЃћрЃЋрЃА рЃърЃўрЃарЃЋрЃћрЃџ рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃА (ID-рЃўрЃЌ)
- Frontend рЃљрЃа рЃБрЃюрЃЊрЃљ рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃЊрЃћрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌ request-рЃА

### РюЁ рЃДрЃЋрЃћрЃџрЃљ рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃАрЃўрЃљ
- Frontend рЃўрЃдрЃћрЃЉрЃА рЃАрЃарЃБрЃџ рЃАрЃўрЃљрЃА dropdown-рЃўрЃАрЃЌрЃЋрЃўрЃА
- рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА рЃерЃћрЃБрЃФрЃџрЃўрЃљ рЃАрЃ«рЃЋрЃљ рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃќрЃћ рЃњрЃљрЃЊрЃљрЃарЃЌрЃЋрЃљ

### РюЁ Real-time рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ
- рЃЊрЃдрЃћрЃЋрЃљрЃюрЃЊрЃћрЃџрЃў рЃ»рЃљрЃЋрЃерЃюрЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ
- рЃЏрЃЮрЃЏрЃљрЃЋрЃљрЃџрЃў рЃЎрЃЋрЃўрЃарЃўрЃА рЃ»рЃљрЃЋрЃерЃюрЃћрЃЉрЃў
- рЃЏрЃљрЃњрЃўрЃЊрЃћрЃЉрЃўрЃАрЃљ рЃЊрЃљ places-рЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ

### РюЁ рЃЉрЃЮрЃџрЃЮ рЃ»рЃљрЃЋрЃерЃюрЃћрЃЉрЃў
- рЃЉрЃЮрЃџрЃЮ 5 рЃ»рЃљрЃЋрЃерЃљрЃюрЃў (created_at DESC)
- рЃАрЃгрЃарЃљрЃцрЃў overview рЃарЃљ рЃ«рЃЊрЃћрЃЉрЃљ рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃерЃў

---

## ­Ъћё Frontend Flow

```
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ 1. POST /api/partner/login              Рћѓ
Рћѓ    Рєњ рЃЏрЃўрЃўрЃдрЃћ token                        Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
               Рћѓ
               Рќ╝
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ 2. рЃерЃћрЃўрЃюрЃљрЃ«рЃћ token localStorage-рЃерЃў        Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
               Рћѓ
               Рќ╝
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ 3. Redirect to /dashboard               Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
               Рћѓ
               Рќ╝
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ 4. GET /api/partner/initial-dashboard   Рћѓ
Рћѓ    Authorization: Bearer {token}        Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
               Рћѓ
               Рќ╝
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ 5. рЃњрЃљрЃЏрЃЮрЃљрЃЕрЃўрЃюрЃћ Dashboard UI:              Рћѓ
Рћѓ    Рђб User info (рЃАрЃљрЃ«рЃћрЃџрЃў, рЃарЃЮрЃџрЃў)          Рћѓ
Рћѓ    Рђб Restaurant dropdown (рЃДрЃЋрЃћрЃџрЃљ)        Рћѓ
Рћѓ    Рђб Default selected restaurant        Рћѓ
Рћѓ    Рђб Today stats (рЃ»рЃљрЃЋрЃерЃюрЃћрЃЉрЃў)             Рћѓ
Рћѓ    Рђб Recent reservations                Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
```

---

## ­ЪЊЮ рЃарЃљ рЃерЃћрЃўрЃфрЃЋрЃљрЃџрЃљ?

### Before (рЃФрЃЋрЃћрЃџрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ)
```
Login Рєњ Dashboard Рєњ рЃњрЃљрЃљрЃЎрЃћрЃЌрЃћ рЃЏрЃарЃљрЃЋрЃљрЃџрЃў API call
  РєЊ
  РћюРћђ GET /organizations
  РћюРћђ GET /organizations/{id}/restaurants
  РћюРћђ GET /restaurants/{id}/dashboard
  РћћРћђ GET /reservations
```

### After (рЃљрЃ«рЃљрЃџрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ) РюЁ
```
Login Рєњ Dashboard Рєњ рЃћрЃарЃЌрЃў API call
  РєЊ
  РћћРћђ GET /initial-dashboard
      РєЊ
      рЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃА рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃА рЃћрЃарЃЌрЃЉрЃљрЃерЃљрЃЊ!
```

---

## РюЁ рЃарЃљ рЃБрЃърЃўрЃарЃљрЃбрЃћрЃАрЃЮрЃЉрЃљ рЃљрЃЦрЃЋрЃА?

1. **­Ъџђ рЃБрЃцрЃарЃЮ рЃАрЃгрЃарЃљрЃцрЃўрЃљ** - рЃћрЃарЃЌрЃў request рЃюрЃљрЃфрЃЋрЃџрЃљрЃЊ 4-5-рЃўрЃА
2. **­ЪњА рЃЏрЃљрЃарЃбрЃўрЃЋрЃўрЃљ** - Frontend-рЃА рЃљрЃа рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ рЃарЃЌрЃБрЃџрЃў рЃџрЃЮрЃњрЃўрЃЎрЃљ
3. **­Ъј» Default Selection** - Backend рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃљрЃарЃЕрЃћрЃЋрЃА рЃърЃўрЃарЃЋрЃћрЃџ рЃарЃћрЃАрЃбрЃЮрЃарЃљрЃюрЃА
4. **­ЪЊі Real-time Stats** - рЃЊрЃдрЃћрЃЋрЃљрЃюрЃЊрЃћрЃџрЃў рЃ»рЃљрЃЋрЃерЃюрЃћрЃЉрЃў рЃЊрЃљ рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ
5. **­Ъћё Flexible** - рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА рЃерЃћрЃБрЃФрЃџрЃўрЃљ рЃарЃћрЃАрЃбрЃЮрЃарЃюрЃўрЃА рЃерЃћрЃфрЃЋрЃџрЃљ

---

## ­ЪДф рЃарЃЮрЃњрЃЮрЃа рЃЊрЃљрЃЋрЃбрЃћрЃАрЃбрЃЮ?

### Postman-рЃерЃў:
1. Login request-рЃўрЃЌ рЃЏрЃўрЃўрЃдрЃћ token
2. `apiToken` environment variable-рЃерЃў рЃЕрЃљрЃАрЃЋрЃў token
3. рЃњрЃљрЃљрЃњрЃќрЃљрЃЋрЃюрЃћ `GET /api/partner/initial-dashboard`
4. рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћ response structure

### Frontend-рЃерЃў:
```javascript
async function loadDashboard() {
  const token = localStorage.getItem('authToken');
  
  const response = await fetch(
    'https://api.foodlyapp.ge/api/partner/initial-dashboard',
    {
      headers: {
        'Authorization': `Bearer ${token}`,
        'Accept-Language': 'ka'
      }
    }
  );
  
  const result = await response.json();
  
  if (result.success) {
    console.log('User:', result.data.user);
    console.log('Organization:', result.data.organization);
    console.log('Restaurants:', result.data.restaurants);
    console.log('Selected:', result.data.selected_restaurant);
    console.log('Stats:', result.data.dashboard.today_stats);
  }
}
```

---

## ­ЪЊџ рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ

- **Frontend Integration рЃњрЃўрЃЊрЃў:** [INITIAL-DASHBOARD-FLOW.md](./INITIAL-DASHBOARD-FLOW.md)
- **Test Cases:** [INITIAL-DASHBOARD-TESTS.md](./INITIAL-DASHBOARD-TESTS.md)
- **API рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ:** `/docs/INITIAL-DASHBOARD-API.md`

---

## ­ЪјЅ рЃЏрЃќрЃљрЃЊрЃљрЃљ!

рЃљрЃ«рЃџрЃљ рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљ:
1. РюЁ Postman-рЃерЃў рЃЊрЃљрЃбрЃћрЃАрЃбрЃЮ
2. РюЁ Frontend-рЃерЃў рЃўрЃюрЃбрЃћрЃњрЃарЃўрЃарЃћрЃЉрЃљ рЃЊрЃљрЃўрЃгрЃДрЃЮ
3. РюЁ Dashboard UI-рЃА рЃљрЃерЃћрЃюрЃћрЃЉрЃљ рЃЊрЃљрЃўрЃгрЃДрЃЮ

рЃЌрЃБ рЃарЃљрЃўрЃЏрЃћ рЃЎрЃўрЃЌрЃ«рЃЋрЃљ рЃњрЃљрЃЦрЃЋрЃА - рЃЏрЃЮрЃЏрЃгрЃћрЃарЃћ! ­Ъџђ
